<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Transcri√ß√£o em tempo real</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: black;
      color: white;
      font-family: sans-serif;
      height: 100%;
      overflow: hidden;
    }
    #transcription {
      padding: 20px;
      font-size: 2em;
      white-space: pre-wrap;
    }
    #controls {
      position: fixed;
      bottom: 20px;
      width: 100%;
      display: flex;
      justify-content: center;
      gap: 20px;
    }
    button {
      font-size: 1.2em;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    #startBtn { background: green; color: white; }
    #stopBtn { background: red; color: white; }
  </style>
</head>
<body>
  <div id="transcription">Clique em "Play" para come√ßar...</div>
  <div id="controls">
    <button id="startBtn">‚ñ∂Ô∏è Play</button>
    <button id="stopBtn">‚èπÔ∏è Stop</button>
  </div>

  <script>
    const transcription = document.getElementById('transcription');
    const startBtn = document.getElementById('startBtn');
    const stopBtn = document.getElementById('stopBtn');

    let recognition;
    let isListening = false;

    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      recognition = new SpeechRecognition();
      recognition.lang = 'pt-BR';
      recognition.continuous = true;
      recognition.interimResults = true;

      recognition.onresult = (event) => {
        let text = '';
        for (let i = event.resultIndex; i < event.results.length; ++i) {
          text += event.results[i][0].transcript;
        }
        transcription.textContent = text;
      };

      recognition.onerror = (event) => {
        transcription.textContent = 'Erro: ' + event.error;
      };
    } else {
      transcription.textContent = 'Reconhecimento de voz n√£o suportado neste navegador.';
    }

    startBtn.onclick = () => {
      if (recognition && !isListening) {
        recognition.start();
        isListening = true;
        transcription.textContent = 'üéôÔ∏è Capturando √°udio...';
      }
    };

    stopBtn.onclick = () => {
      if (recognition && isListening) {
        recognition.stop();
        isListening = false;
        transcription.textContent += '\n‚èπÔ∏è Parado.';
      }
    };
  </script>
</body>
</html>
